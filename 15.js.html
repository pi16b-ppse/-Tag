<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: 15.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: 15.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
*@description Базовые переменные, используемые при начале новой игры
*/
    var arr = [], box, ei,ej;	

/**
* Функция меняющая местами два элемента массива с заданными индексами.
*@param {object} arr - Массив ячеек
*@param {object} i1 - Элемент массива
*@param {object} j1 - Элемент массива
*@param {object} i2 - Элемент массива
*@param {object} j2 - Элемент массива
*/					
function swap(arr,i1,j1,i2,j2){				
    t = arr[i1][j1];
    arr[i1][j1] = arr[i2][j2];
    arr[i2][j2] = t;
}


/**
*Функция загрузки начальной страницы игры
*/
window.onload = function() {				
    box = document.getElementById("box");
    newGame();				
    document.getElementById("reset").onclick = newGame;						
}


/**
* Функция для обработки нажатий на костяшки
*@param {var} event - Ячейка
*/
function cellClick(event) {
    var event = event || window.event,
    el = event.srcElement || event.target,
    i = el.id.charAt(0),
    j = el.id.charAt(2);
    if((i == ei &amp;&amp; Math.abs(j - ej) == 1) || (j == ej &amp;&amp; Math.abs(i - ei) == 1)){					
        document.getElementById(ei + " " + ej).innerHTML = el.innerHTML;
	el.innerHTML = "";
	ei = i;
	ej = j;
	var q = true;
	for(i = 0; i &lt; 4; ++i){
	    for(j = 0; j &lt; 4; ++j){
	        if(i + j != 6 &amp;&amp; document.getElementById(i + " " + j).innerHTML != i*4 + j + 1){
		    q = false;
		    break;
		}
		if(q) alert("Victory!");
	    }
	}
    }
}

/**
* Параметры используемые при начале новой игры
*/
function newGame(){			
    for(i = 0; i &lt; 4; ++i){
        arr[i] = []
	for(j = 0; j &lt; 4; ++j){
	    if(i + j != 6){
	        arr[i][j] = i*4 + j + 1;
	    }
	    else{
	        arr[i][j] = "";
	    }
	}
    }
    ei = 3;
    ej = 3;
    for(i = 0; i < 1600; ++i){
        switch(Math.round(3*Math.random())){
	    case 0:
	        if(ei != 0){ 
		    swap(arr,ei,ej,--ei,ej);
		} 
	        break; // up
	    case 1: 
	        if(ej != 3){ 
		    swap(arr,ei,ej,ei, ++ej);
		} 
		break; // right
            case 2: 
	        if(ei != 3){ 
		    swap(arr,ei,ej,++ei,ej);
		} 
	        break; // down
            case 3: 
	        if(ej != 0){ 
		    swap(arr,ei,ej,ei,--ej);
		} // left
	}
    }
    var table = document.createElement("table"),
    tbody = document.createElement("tbody");					
    table.appendChild(tbody);
    for(i = 0; i &lt; 4; ++i){
        var row = document.createElement("tr");
        for(j = 0; j &lt; 4; ++j){
	    var cell = document.createElement("td");
	    cell.id = i + " " + j;
	    cell.onclick = cellClick;
	    cell.innerHTML = arr[i][j];
	    row.appendChild(cell);
	}
	tbody.appendChild(row);					
    }
    if(box.childNodes.length == 1){
        box.removeChild(box.firstChild);	
	box.appendChild(table);	
    }
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#arr">arr</a></li><li><a href="global.html#cellClick">cellClick</a></li><li><a href="global.html#newGame">newGame</a></li><li><a href="global.html#swap">swap</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.2</a> on Wed May 22 2019 11:02:05 GMT+0300 (GMT+03:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
